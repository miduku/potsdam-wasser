/*!
 * fastplate
 * Barebones Responsive SCSS Boilerplate with vertical rhythm
 * http://miduku.github.io/fastplate/example.html
 * @author Dustin Kummer
 * @version 0.0.1
 * Copyright 2017. MIT licensed.
 */
!function(n,e){"use strict";var o=function(){function e(n){var e,o,a=n.offsetHeight;if(i)r=i();else for(var c in t)e=c,document.body.clientWidth>e&&e>=o&&(r=t[c],o=e);n.style.marginBottom=r-a%r+"px"}function o(o){e(o),"addEventListener"in n?n.addEventListener("resize",function(){e(o)},!1):"attachEvent"in n&&n.attachEvent("resize",function(){e(o)})}var i,r=0,t={};return function(n,e){var a="string"==typeof n?document.querySelectorAll(n):n,c=a.length;if("number"==typeof e)r=parseInt(e,10);else if("function"==typeof e)i=e;else if("object"==typeof e){var s=parseInt(getComputedStyle(document.body,null).getPropertyValue("font-size"),10);for(var u in t){var g=/\d+em/.test(u)?parseInt(u,10)*s:/\d+px/.test(u)?parseInt(u,10):u;t[g]=parseInt(t[u],10)}}if(c>1)for(;c--;)o(a[c]);else o(a[0])}}();"undefined"!=typeof e?e.extend(e.fn,{baseline:function(n){return o(this,n)}}):n.baseline=o}(window,window.jQuery||window.Zepto||void 0),function(n,e,o,i){"use strict";function r(n,e){return e.offset().top-n.offset().top}var t={w:n(e),container:{intro:n(".container-intro")},icons:n(".container .icon i"),icon:{gewinnung:n(".container-gewinnung .icon i"),versorgung:n(".container-versorgung .icon i"),reinigung:n(".container-reinigung .icon i")},footer:n("footer h1")},a={iconPositionsArray:[t.icon.gewinnung,t.icon.versorgung,t.icon.reinigung,t.footer],colors:{gewinnung:[40,137,179],versorgung:[56,115,184],reinigung:[130,154,175]}};n(function(){t.icons.append('<div class="waterpipe"><div class="water"></div></div>');var o={Controller:new ScrollMagic.Controller,cast:{Waterpipe:function(e){var i=[a.colors.gewinnung,a.colors.versorgung,a.colors.reinigung,a.colors.gewinnung];return e.each(function(e,c){var s=[i[e+1][0]-i[e][0],i[e+1][1]-i[e][1],i[e+1][2]-i[e][2]],u=new ScrollMagic.Scene({triggerElement:c,triggerHook:.8}).addTo(o.Controller).addIndicators({name:"Waterpipe"+e}).on("progress",function(o){var r=o.progress.toFixed(3),t=100*r*r+"%",a=[Math.round(i[e][0]+s[0]*r),Math.round(i[e][1]+s[1]*r),Math.round(i[e][2]+s[2]*r)],u="linear-gradient(to bottom, rgb("+i[e][0]+","+i[e][1]+","+i[e][2]+") 0%, rgb("+a.join(",")+") 100%)";n(c).children(".water").css({background:u,height:t})});t.w.on("resize",function(){u.duration(r(a.iconPositionsArray[e],a.iconPositionsArray[e+1])),u.refresh()})})}}};o.cast.Waterpipe(n(".waterpipe")),n(e).trigger("resize")});var c={allow:!0,reallow:function(){c.allow=!0},delay:300};t.w.on("resize",function(){t.container.intro.css("height",t.w.outerHeight()),n(".waterpipe").each(function(e,o){n(o).css("height",r(a.iconPositionsArray[e],a.iconPositionsArray[e+1]))})}),t.w.on("load scroll",function(){c.allow&&(c.allow=!1,setTimeout(c.reallow,c.delay))})}(jQuery,window,document);