/*!
 * fastplate
 * Barebones Responsive SCSS Boilerplate with vertical rhythm
 * http://miduku.github.io/fastplate/example.html
 * @author Dustin Kummer
 * @version 0.0.1
 * Copyright 2016. MIT licensed.
 */
!function(e,n){"use strict";var t=function(){function n(e){var n,t,a=e.offsetHeight;if(i)r=i();else for(var l in o)n=l,document.body.clientWidth>n&&n>=t&&(r=o[l],t=n);e.style.marginBottom=r-a%r+"px"}function t(t){n(t),"addEventListener"in e?e.addEventListener("resize",function(){n(t)},!1):"attachEvent"in e&&e.attachEvent("resize",function(){n(t)})}var i,r=0,o={};return function(e,n){var a="string"==typeof e?document.querySelectorAll(e):e,l=a.length;if("number"==typeof n)r=parseInt(n,10);else if("function"==typeof n)i=n;else if("object"==typeof n){var s=parseInt(getComputedStyle(document.body,null).getPropertyValue("font-size"),10);for(var u in o){var c=/\d+em/.test(u)?parseInt(u,10)*s:/\d+px/.test(u)?parseInt(u,10):u;o[c]=parseInt(o[u],10)}}if(l>1)for(;l--;)t(a[l]);else t(a[0])}}();"undefined"!=typeof n?n.extend(n.fn,{baseline:function(e){return t(this,e)}}):e.baseline=t}(window,window.jQuery||window.Zepto||void 0),function(e,n,t,i){"use strict";function r(e){var n=e.parent().innerHeight(),t=e.innerHeight(),i=e.innerWidth();return e.css({position:"absolute",top:n/2-t/2,left:o.w.outerWidth()/2-i/2,paddingTop:0})}var o={w:e(n),header_container:e(".header .container"),headerSticky:e(".header-sticky"),fullscreen:e(".fullscreen"),baselineElements:e("picture > *, .group-img img, .embed-video, figure img, .fullscreen"),anim:{rain:e(".anim-rain")}};e(function(){o.baselineElements.baseline(function(){return parseFloat(getComputedStyle(t.documentElement,null).getPropertyValue("line-height"))});var e=new ScrollMagic.Controller({loglevel:3}),n=TweenMax.staggerFromTo(".cloud",2,{left:"100%"},{left:"25%",ease:Power1.easeInOut},1),i=new ScrollMagic.Scene({triggerElement:".anim-rain",triggerHook:1,duration:o.anim.rain.height()/3});i.addTo(e).setTween(n).addIndicators({name:"staggering"})});var a={allow:!0,reallow:function(){a.allow=!0},delay:50};o.w.on("load resize",function(){if(a.allow){var e=o.w.outerHeight();o.fullscreen.height(e),o.anim.rain.height(3*e),a.allow=!1,setTimeout(a.reallow,a.delay)}}),o.w.on("load scroll resize",function(){if(a.allow){r(o.header_container);var e=o.w.scrollTop();o.headerSticky.toggleClass("sticking",e>o.header_container.position().top),a.allow=!1,setTimeout(a.reallow,a.delay)}})}(jQuery,window,document);