/*!
 * fastplate
 * Barebones Responsive SCSS Boilerplate with vertical rhythm
 * http://miduku.github.io/fastplate/example.html
 * @author Dustin Kummer
 * @version 0.0.1
 * Copyright 2016. MIT licensed.
 */
!function(e,t){"use strict";var n=function(){function t(e){var t,n,a=e.offsetHeight;if(r)o=r();else for(var l in i)t=l,document.body.clientWidth>t&&t>=n&&(o=i[l],n=t);e.style.marginBottom=o-a%o+"px"}function n(n){t(n),"addEventListener"in e?e.addEventListener("resize",function(){t(n)},!1):"attachEvent"in e&&e.attachEvent("resize",function(){t(n)})}var r,o=0,i={};return function(e,t){var a="string"==typeof e?document.querySelectorAll(e):e,l=a.length;if("number"==typeof t)o=parseInt(t,10);else if("function"==typeof t)r=t;else if("object"==typeof t){var s=parseInt(getComputedStyle(document.body,null).getPropertyValue("font-size"),10);for(var c in i){var d=/\d+em/.test(c)?parseInt(c,10)*s:/\d+px/.test(c)?parseInt(c,10):c;i[d]=parseInt(i[c],10)}}if(l>1)for(;l--;)n(a[l]);else n(a[0])}}();"undefined"!=typeof t?t.extend(t.fn,{baseline:function(e){return n(this,e)}}):e.baseline=n}(window,window.jQuery||window.Zepto||void 0),function(e,t,n,r){"use strict";function o(e){var t=e.parent().innerHeight(),n=e.innerHeight(),r=e.innerWidth();return e.css({position:"absolute",top:t/2-n/2,left:i.w.outerWidth()/2-r/2,paddingTop:0})}var i={w:e(t),header_container:e(".header .container"),headerSticky:e(".header-sticky"),headerArticle:e(".header-article"),fullscreen:e(".fullscreen"),baselineElements:e("picture > *, .group-img img, .embed, figure img, .fullscreen, .header-article .l img"),anim:{rain:e(".anim-rain")}},a=.02;e(function(){e(t).trigger("resize"),i.headerArticle.each(function(){e(this).append('<span class="circle"></span>').children(".circle").css({transform:"scale(0)",left:100*a+"%"})}),i.baselineElements.baseline(function(){return parseFloat(getComputedStyle(n.documentElement,null).getPropertyValue("line-height"))});var r={Controller:new ScrollMagic.Controller({loglevel:3}),tween:{CloudFromRight:TweenMax.staggerFromTo(".cloudFromRight",2,{left:"100%"},{left:"0%",ease:Power1.easeInOut},1),CloudFromLeft:TweenMax.staggerFromTo(".cloudFromLeft",2,{right:"100%"},{right:"0%",ease:Power1.easeInOut},1)},scene:{CloudsFromRight:new ScrollMagic.Scene({triggerElement:".anim-rain",triggerHook:1,duration:i.anim.rain.innerHeight()/3}),CloudsFromLeft:new ScrollMagic.Scene({triggerElement:".anim-rain",triggerHook:1,duration:i.anim.rain.innerHeight()/3})},cast:{CloudsFromRight:function(){return r.scene.CloudsFromRight.addTo(r.Controller).setTween(r.tween.CloudFromRight).addIndicators({name:"staggering"})},CloudsFromLeft:function(){return r.scene.CloudsFromLeft.addTo(r.Controller).setTween(r.tween.CloudFromLeft).addIndicators({name:"staggering2"})},Flood:function(t){return t.each(function(t,n){console.log(e(this).outerWidth()),new ScrollMagic.Scene({triggerElement:n,triggerHook:.8,duration:e(this).outerHeight()}).addTo(r.Controller).addIndicators({name:"flood"+t}).on("progress",function(t){e(n).children(".circle").css({transform:"scale("+t.progress.toFixed(2)+")"})})})}}};r.cast.CloudsFromRight(),r.cast.CloudsFromLeft(),r.cast.Flood(i.headerArticle)});var l={allow:!0,reallow:function(){l.allow=!0},delay:50};i.w.on("resize",function(){var e=i.w.outerHeight();i.fullscreen.height(e),i.anim.rain.height(3*e),o(i.header_container)}),i.w.on("load scroll resize",function(){if(l.allow){var e=i.w.scrollTop();i.headerSticky.toggleClass("sticking",e>i.header_container.position().top),l.allow=!1,setTimeout(l.reallow,l.delay)}})}(jQuery,window,document);